<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GSMArena Scraper - HpGaul</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ["-apple-system", "BlinkMacSystemFont", "Segoe UI", "Roboto", "Helvetica Neue", "Arial", "Noto Sans", "sans-serif", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"],
                    },
                    colors: {
                        ios: {
                            blue: '#0000FF',
                        }
                    }
                }
            }
        }
    </script>
    <style>
        body {
            padding-top: 4rem; /* Account for fixed navbar */
        }
        .btn-primary {
            background-color: #0000FF; /* ios.blue */
        }
        .btn-primary:hover {
            background-color: #0000CC; /* darker blue */
        }
    </style>
</head>
<body class="bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100 font-sans antialiased">
    <nav class="bg-white dark:bg-gray-800 shadow-sm fixed top-0 left-0 right-0 z-20">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <a href="/" class="flex-shrink-0 flex items-center">
                    <svg class="h-8 w-auto mr-2 text-ios-blue" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M4 2H20C21.1046 2 22 2.89543 22 4V20C22 21.1046 21.1046 22 20 22H4C2.89543 22 2 21.1046 2 20V4C2 2.89543 2.89543 2 4 2ZM8 6C7.44772 6 7 6.44772 7 7V17C7 17.5523 7.44772 18 8 18H9C9.55228 18 10 17.5523 10 17V7C10 6.44772 9.55228 6 9 6H8ZM12 10C11.4477 10 11 10.4477 11 11V17C11 17.5523 11.4477 18 12 18H13C13.5523 18 14 17.5523 14 17V11C14 10.4477 13.5523 10 13 10H12ZM16 8C15.4477 8 15 8.44772 15 9V17C15 17.5523 15.4477 18 16 18H17C17.5523 18 18 17.5523 18 17V9C18 8.44772 17.5523 8 17 8H16Z" />
                    </svg>
                    <span class="font-bold text-xl"><span class="text-gray-900 dark:text-white">Hp</span><span class="text-ios-blue">Gaul</span> Scraper</span>
                </a>
            </div>
        </div>
    </nav>

    <main class="max-w-xl mx-auto px-4 sm:px-6 lg:px-8 py-8 mt-8">
        <div class="bg-white dark:bg-gray-800 p-6 sm:p-8 rounded-lg shadow-xl">
            <h1 class="text-2xl font-bold mb-6 text-center text-gray-900 dark:text-white">GSMArena Phone Scraper</h1>

            <form action="/scrape" method="GET" class="mb-6">
                <div class="mb-4">
                    <label for="url" class="block text-gray-700 dark:text-gray-300 text-sm font-semibold mb-2">
                        Masukkan URL Halaman Ponsel GSMArena:
                    </label>
                    <input type="text" id="url" name="url" placeholder="Contoh: https://www.gsmarena.com/samsung_galaxy_s23_ultra-12024.php"
                           class="shadow appearance-none border rounded w-full py-3 px-4 text-gray-700 dark:text-gray-200 dark:bg-gray-700 dark:border-gray-600 leading-tight focus:outline-none focus:ring-2 focus:ring-ios-blue focus:border-transparent"
                           required>
                </div>
                <div class="flex items-center justify-center">
                    <button type="submit"
                            class="btn-primary hover:bg-blue-700 text-white font-bold py-2 px-6 rounded focus:outline-none focus:shadow-outline transition duration-150 ease-in-out">
                        Scrape Harga
                    </button>
                </div>
            </form>

            <% if (error) { %>
                <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4 mt-6" role="alert">
                    <strong class="font-bold">Error:</strong>
                    <span class="block sm:inline"><%= error %></span>
                </div>
            <% } %>

            <% if (phoneData) { %>
                <div class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-4 mt-6">
                    <h2 class="text-xl font-semibold mb-3 text-center">Hasil Scraping:</h2>
                    <div class="text-center mb-4">
                        <% if (phoneData.img) { %>
                            <img src="<%= phoneData.img %>" alt="<%= phoneData.name %>" class="mx-auto mb-2 rounded-lg shadow-md max-h-60">
                        <% } %>
                        <p class="text-lg font-medium"><%= phoneData.name %></p>
                        <p class="text-md mt-1"><strong>Harga (dari Misc):</strong> <%= phoneData.price %></p>
                    </div>
                </div>
            <% } %>
        </div>
    </main>

    <footer class="text-center py-8 text-sm text-gray-500 dark:text-gray-400">
        <p>&copy; <%= new Date().getFullYear() %> HpGaul Scraper. Dibuat dengan ❤️.</p>
    </footer>

</body>
</html>
